(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{253:function(e,t,a){e.exports=a(371)},258:function(e,t,a){},259:function(e,t,a){},359:function(e,t,a){},363:function(e,t,a){e.exports=a.p+"static/media/flight.103042e2.jpg"},364:function(e,t,a){e.exports=a.p+"static/media/bus.81621b48.jpg"},365:function(e,t,a){e.exports=a.p+"static/media/trains.008349a7.jpg"},366:function(e,t,a){e.exports=a.p+"static/media/ferry.f7a7b25c.jpg"},367:function(e,t,a){e.exports=a.p+"static/media/car.2bab6fb5.jpg"},368:function(e,t,a){},369:function(e,t,a){},371:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),l=a.n(i),o=a(21);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(9),s=a(10),u=a(12),m=a(11),p=a(13),d=(a(258),a(64)),h=(a(259),a(416)),f=a(413),g=a(415),E=a(88),v=a(19),y=a.n(v),b=function(e,t){return y.a.post("/api/auth/login",{username:e,password:t})},w=function(e,t){return y.a.post("/api/auth/signup",{username:e,password:t})},k=function(e){return y.a.post("/api/auth/facebooksignup",{userId:e})},x=function(e){return y.a.post("/api/auth/googlesignup",{googleId:e})},C=function(e){return y.a.post("/api/auth/facebooklogin",{userId:e})},O=function(e){return y.a.post("/api/auth/googlelogin",{googleId:e})},S=function(){return y.a.post("/api/auth/logout").then(function(e){return e.data})},j=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(){S().then(function(){a.props.setUser(null)})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f.a,{position:"static",style:{background:"#494847"}},r.a.createElement(g.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(o.b,{to:"/"},r.a.createElement("img",{style:{height:"4.5vh",width:"auto"},src:"/images/logo.png",alt:"logo"}))),r.a.createElement("div",{className:"buttons-box"},this.props.user?r.a.createElement("span",null,r.a.createElement(h.a,null,r.a.createElement(o.b,{style:{textDecoration:"none",color:"white"},onClick:function(){return e.handleLogout()},to:"/",className:"button"},"Logout")),r.a.createElement(h.a,null,r.a.createElement(o.b,{to:"/boards",style:{textDecoration:"none",color:"white"},className:"button"},"My trips"))):r.a.createElement("span",null,r.a.createElement(h.a,{className:"button"},r.a.createElement(o.b,{style:{textDecoration:"none",color:"white"},to:"/signup",className:"button"},"Sign Up")),r.a.createElement(h.a,null,r.a.createElement(o.b,{to:"/login",style:{textDecoration:"none",color:"white"},className:"button"},"Log In")))))),r.a.createElement("div",{className:"home-intro"},r.a.createElement("div",{className:"intro-box"},r.a.createElement(E.a,{variant:"h2",className:"intro-text",gutterBottom:!0},"Travelboard"),r.a.createElement(E.a,{variant:"h5",className:"intro-text",style:{marginBottom:"30px"},gutterBottom:!0},"All-in-one planning tool for your next trip"),r.a.createElement(h.a,{variant:"contained",style:{background:"#1bacbf"},size:"large"},r.a.createElement(o.b,{to:"/tripform",style:{textDecoration:"none",color:"white"}},"Start here")))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"home-planner"},r.a.createElement("div",{className:"home-planner-text notmiddle1"},r.a.createElement(E.a,{variant:"h2",gutterBottom:!0},"Plan your trip"),r.a.createElement(E.a,{variant:"body1",gutterBottom:!0},"With our planner, you can schedule all your activities during your trip. You can fill each day with sightseeing while also scheduling accomodations, flights, bus and train connections. Don\u2019t forget to add must-try cafes and restaurants! Drag and drop, play around. See your expenses for each particular day. It all-in-one planning tool!")),r.a.createElement("div",{className:"home-planner-img notmiddle2"},r.a.createElement("img",{src:"/images/Screenshot-planner.png",alt:"example"}))),r.a.createElement("div",{className:"home-planner"},r.a.createElement("div",{className:"home-planner-img"},r.a.createElement("img",{src:"/images/Screenshot-map.png",alt:"example"})),r.a.createElement("div",{className:"home-planner-text"},r.a.createElement(E.a,{variant:"h2",gutterBottom:!0},"Get inspired"),r.a.createElement(E.a,{variant:"body1",gutterBottom:!0},"Don\u2019t know where to start? We get you covered! Use an integrated Google Map to find excursions, cafes and restaurants, plus local hotels and hostels. Find something worth a visit? Just push a plus button and it will magically appear in the container of your planner. Drag and drop to the calendar and you\u2019re almost ready to go!"))),r.a.createElement("div",{className:"home-planner"},r.a.createElement("div",{className:"home-planner-text notmiddle1"},r.a.createElement(E.a,{variant:"h2",gutterBottom:!0},"Be prepared"),r.a.createElement(E.a,{variant:"body1",gutterBottom:!0},"Last, but not least, make sure your have everything you need for your trip. Our extended packing list will help you not forget anything important. Finally get your finances under control in our budget tool. See your expenses per each category and calculate the total for the whole trip.")),r.a.createElement("div",{className:"home-planner-img notmiddle2"},r.a.createElement("img",{src:"/images/Screenshot-packinglist.png",alt:"example"})))),r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-text"},"Made by"," ",r.a.createElement("a",{href:"https://www.linkedin.com/in/gonzalo-alba/"},"Gonzalo Alba"),", ",r.a.createElement("a",{href:"https://www.linkedin.com/in/adontcova/"},"Anna Dontcova"),", ",r.a.createElement("a",{href:"https://www.linkedin.com/in/manami-ito/"},"Manami Ito")," ","and"," ",r.a.createElement("a",{href:"https://www.linkedin.com/in/elizabeth-abramov/"},"Elizabeth Abramov")," ","during"," ",r.a.createElement("a",{href:"https://www.ironhack.com/en/courses/web-development-bootcamp"},"Ironhack")," ","Bootcamp. \xa9 2019")))}}]),t}(n.Component),D=a(22),I=a(217),A=(a(209),a(212),a(419)),N=a(418),T=a(446),B=a(420),L=a(83),M=a.n(L),R=a(417),U={marginTop:"30%",display:"flex",flexDirection:"column",alignItems:"center"},_=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",destination:"",startDate:null,endDate:null,focusedInput:null,userId:a.props.user._id},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(D.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.title,r=t.description,i=t.destination,l=t.startDate,o=t.endDate,c=a.state.userId;y.a.post("/api/trips",{title:n,description:r,destination:i,startDate:l,endDate:o,userId:c}).then(function(e){localStorage.setItem("tripId",e.data._id),localStorage.setItem("destination",i),localStorage.setItem("startDate",l),localStorage.setItem("endDate",o),localStorage.setItem("userId",c),a.props.history.push({pathname:"/planner",data:{startDate:l,endDate:o}})}).catch(function(e){a.setState({err:e})})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(R.a,{component:"main",maxWidth:"xs"},r.a.createElement(N.a,null),r.a.createElement("div",{style:U},r.a.createElement(A.a,{style:{backgroundColor:"rgb(73,72,71)"}},r.a.createElement(M.a,null)),r.a.createElement(E.a,{component:"h1",variant:"h5",style:{margin:"2%"}},"Choose your trip"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(B.a,{container:!0,spacing:2},r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,type:"text",name:"title",id:"title",label:"Trip title",autoComplete:"trip title",value:this.state.title,onChange:this.handleChange})),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,type:"destination",name:"destination",id:"destination",label:"Destination",autoComplete:"destination",value:this.state.destination,onChange:this.handleChange})),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",fullWidth:!0,type:"textarea",name:"description",id:"description",label:"Trip description",autoComplete:"trip description",value:this.state.description,onChange:this.handleChange})),"\u200b",r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(I.DateRangePicker,{startDate:this.state.startDate,startDateId:"your_unique_start_date_id",endDate:this.state.endDate,endDateId:"your_unique_end_date_id",onDatesChange:function(t){var a=t.startDate,n=t.endDate;return e.setState({startDate:a,endDate:n})},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})},firstDayOfWeek:1,block:!0})),"\u200b"),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:{marginTop:"3%",backgroundColor:"rgb(27,172, 191)"}},"Submit"),"\u200b")),"\u200b")}}]),t}(n.Component),V=a(120),W=a(59),P=a(3),z=a(372),F=a(84),J=a(450),G=a(422),q=a(441),H=a(5),X=a(234),Q=a(423),Y=a(424),Z=a(425),K=a(220),$=a.n(K),ee=a(222),te=a.n(ee),ae=a(221),ne=a.n(ae),re=Object(H.a)({paper:{border:"1px solid #d3d4d5"}})(function(e){return r.a.createElement(X.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))}),ie=Object(H.a)(function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}})(Q.a);function le(e){var t=r.a.useState(null),a=Object(V.a)(t,2),n=a[0],i=a[1];return r.a.createElement("div",null,r.a.createElement(h.a,{"aria-controls":"customized-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},style:{color:"white"}},r.a.createElement("div",null,r.a.createElement($.a,null)," "),r.a.createElement("div",{style:{marginLeft:"10px"}},"Hello ",localStorage.getItem("username"))),r.a.createElement(re,{id:"customized-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:function(){i(null)}},r.a.createElement(ie,null,r.a.createElement(Y.a,null,r.a.createElement(ne.a,null)),r.a.createElement(o.b,{style:{textDecoration:"none",color:"rgb(30, 30, 30)"},to:"/boards"},r.a.createElement(Z.a,{primary:"My trips"}))),r.a.createElement(ie,null,r.a.createElement(Y.a,null,r.a.createElement(te.a,null)),r.a.createElement(o.b,{style:{textDecoration:"none",color:"rgb(30, 30, 30)"},onClick:function(){return function(e){S().then(function(){e.setUser(null)})}(e)},to:"/"},r.a.createElement(Z.a,{primary:"Log out"})))))}var oe=a(232),ce=a.n(oe),se=a(226),ue=a.n(se),me=a(228),pe=a.n(me),de=a(227),he=a.n(de),fe=a(229),ge=a.n(fe),Ee=a(116),ve=a.n(Ee),ye=a(86),be=a.n(ye),we=a(230),ke=a.n(we),xe=a(231),Ce=a.n(xe),Oe=a(373),Se=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component),je=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component),De=a(445),Ie=a(432),Ae=a(115),Ne=a.n(Ae),Te=a(431),Be=a(57),Le=a.n(Be),Me=a(426),Re=a(428),Ue=a(429),_e=a(427),Ve=a(430),We=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"sidebar",style:{width:"100%",height:"100%",overflowY:"scroll"}},r.a.createElement("input",{style:{width:"100%"},value:this.props.query,onChange:function(t){e.props.filterVenues(t.target.value)}}),r.a.createElement(Me.a,null,r.a.createElement(_e.a,null),r.a.createElement(Re.a,null,this.props.filteredVenues&&this.props.filteredVenues.length>0&&this.props.filteredVenues.map(function(t,a){return r.a.createElement(Ue.a,{key:a},r.a.createElement(Ve.a,{style:{width:"500px"}},r.a.createElement("div",{onClick:function(){e.props.listItemClick(t)}},r.a.createElement(E.a,{variant:"button"},t.name))),r.a.createElement(Ve.a,null,r.a.createElement(Te.a,{size:"small",color:"primary","aria-label":"add",onClick:function(){e.props.selectVenue(t)}},r.a.createElement(Le.a,null))))}))))}}]),t}(n.Component),Pe=We;function ze(e){return r.a.createElement(E.a,{component:"div",style:{padding:24}},e.children)}var Fe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},a.handleChange=function(e,t){a.setState({value:t}),0===t?(a.props.filterRestaurants(""),a.setState({filterVenues:a.props.filterRestaurants})):1===t&&(a.props.filterExcursions(""),a.setState({filterVenues:a.props.filterExcursions}))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.value;return r.a.createElement("div",{className:e.root},r.a.createElement(f.a,{position:"sticky",color:"default"},r.a.createElement(De.a,{value:t,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",scrollButtons:"auto"},r.a.createElement(Ie.a,{icon:r.a.createElement(Ne.a,null),label:"Food and Drinks"}),r.a.createElement(Ie.a,{icon:r.a.createElement(be.a,null),label:"Excursion/Sightseeing"}))),0===t&&r.a.createElement(ze,null,r.a.createElement(Pe,{filterVenues:this.state.filterVenues,filteredVenues:this.props.filteredVenues,listItemClick:this.props.listItemClick,selectVenue:this.props.selectVenue})),1===t&&r.a.createElement(ze,null,r.a.createElement(Pe,{filterVenues:this.state.filterVenues,filteredVenues:this.props.filteredVenues,listItemClick:this.props.listItemClick,selectVenue:this.props.selectVenue})))}}]),t}(n.Component),Je=Object(H.a)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,overflowY:"scroll"}}})(Fe);function Ge(){return new Promise(function(e){window.resolveGoogleMapsPromise=function(){e(window.google),delete window.resolveGoogleMapsPromise};var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyALu2H4MN0txO_RLeAlpC93xAhkcTsTMXg","&callback=resolveGoogleMapsPromise"),t.async=!0,document.body.appendChild(t)})}function qe(e,t){var a="https://api.foursquare.com/v2/venues/search?client_id=".concat("5R5N5JHEEE2C01QS11INO5GQWE30SFQMBLATVZJ3N5W31H2E","&client_secret=").concat("VULJIZUWDDRZKY0HCMM3DRS4EQ1OXM22FUZODS1UJ13QDOMN","&v=20130815%20&intent=").concat("browse","&limit=").concat(50,"&categoryId=").concat(t,"&near=").concat(e,"&query=").concat("");return fetch(a).then(function(e){return e.json()})}function He(e,t){return e.reduce(function(e,a){return(e[a[t]]=e[a[t]]||[]).push(a),e},{})}var Xe="4d4b7105d754a06374d81259",Qe="4d4b7105d754a06377d81259",Ye="4bf58dd8d48988d1fa931735",Ze={FOOD:"food",EXCURSION:"sightseeing",ACCOMMODATION:"accommodation"},Ke=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).loadMarkers=function(e,t){try{e.forEach(function(e){e.type=t;var n=new a.google.maps.Marker({position:{lat:e.location.lat,lng:e.location.lng},map:a.map,venue:e,id:e.id,name:e.name,type:t,animation:a.google.maps.Animation.DROP});n.addListener("click",function(){null!==n.getAnimation()?n.setAnimation(null):n.setAnimation(a.google.maps.Animation.BOUNCE),setTimeout(function(){n.setAnimation(null)},1500)}),a.google.maps.event.addListener(n,"click",function(){a.infowindow.setContent(n.name),a.map.setCenter(n.position),a.infowindow.open(a.map,n),a.map.panBy(0,-125)}),a.markers.push(n)}),a.setState({filteredVenues:a.restaurants})}catch(n){console.log(n)}},a.listItemClick=function(e){var t=a.markers.filter(function(t){return t.id===e.id})[0];a.infowindow.setContent(t.name),a.map.setCenter(t.position),a.infowindow.open(a.map,t),a.map.panBy(0,-125),null!==t.getAnimation()?t.setAnimation(null):t.setAnimation(a.google.maps.Animation.BOUNCE),setTimeout(function(){t.setAnimation(null)},1500)},a.selectVenue=function(e){y.a.post("/api/draftActivities",{title:e.name,description:"",type:e.type,expenses:0,date:new Date,tripId:"".concat(localStorage.getItem("tripId"))}).then(function(e){return e.data})},a.filter=function(e,t,n){var r=t.filter(function(t){return t.name.toLowerCase().includes(e.toLowerCase())});return a.markers.forEach(function(t){t.type===n&&!0===t.name.toLowerCase().includes(e.toLowerCase())?t.setVisible(!0):t.setVisible(!1)}),a.setState({filteredVenues:r,query:e}),r},a.filterRestaurants=function(e){a.filter(e,a.restaurants,Ze.FOOD)},a.filterExcursions=function(e){a.filter(e,a.excursions,Ze.EXCURSION)},a.handleSubmit=function(e){e.preventDefault(),a.fillingMap()},a.handleChange=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a.state={query:"",location:"Berlin"},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("destination");this.setState({location:t},function(){e.fillingMap()})}},{key:"fillingMap",value:function(){var e=this;try{var t=Ge(),a=qe(this.state.location,Xe),n=qe(this.state.location,Qe);Promise.all([t,a,n]).then(function(t){var a=t[0];e.restaurants=t[1].response.venues,e.excursions=t[2].response.venues,e.google=a,e.markers=[],e.infowindow=new a.maps.InfoWindow,e.map=new a.maps.Map(document.getElementById("map"),{zoom:12,scrollwheel:!0,center:{lat:e.restaurants[0].location.lat,lng:e.restaurants[0].location.lng}}),e.loadMarkers(e.restaurants,Ze.FOOD),e.loadMarkers(e.excursions,Ze.EXCURSION)})}catch(r){console.log(r)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"map-page",style:{display:"flex",justifyContent:"center",height:"100vh"}},r.a.createElement("div",{id:"map"}," "),r.a.createElement("div",null,r.a.createElement(E.a,{variant:"h4",style:{textAlign:"center",margin:"20px"}},"Things to do in ",this.state.location),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(E.a,{variant:"h6",style:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"}},"Change location to",r.a.createElement("input",{type:"text",name:"location",onChange:this.handleChange,value:this.state.location,style:{margin:"10px"}}),r.a.createElement(h.a,{variant:"contained",style:{background:"#1bacbf",textDecoration:"none",color:"white"},type:"submit"},"Search"))),r.a.createElement(Je,{filterRestaurants:this.filterRestaurants,filterExcursions:this.filterExcursions,filteredVenues:this.state.filteredVenues,listItemClick:this.listItemClick,selectVenue:function(t){return e.selectVenue(t)}}))))}}]),t}(n.Component),$e=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Se,null),r.a.createElement(je,null),r.a.createElement(Ke,null))}}]),t}(n.Component),et=a(233),tt=a(24),at=a.n(tt),nt=a(37),rt=a(17),it=a.n(rt),lt=a(434),ot=a(436),ct=a(435),st=a(448),ut=a(449),mt=a(433),pt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,form:{type:a.props.activity.type,id:a.props.activity._id,title:a.props.activity.title,description:a.props.activity.description,expenses:a.props.activity.expenses}},a.handleToggle=function(){a.setState({open:!a.state.open})},a.handleChange=function(e){return function(t){var n=t.target.value;a.setState({form:Object(W.a)({},a.state.form,Object(D.a)({},e,n))})}},a.handleDelete=function(e){e.preventDefault();var t=a.state.form.id;a.props.deleteActivity(t),a.setState({open:!a.state.open})},a.handleSubmit=function(e){e.preventDefault();var t={_id:a.state.form.id,title:a.state.form.title,description:a.state.form.description,expenses:Number(a.state.form.expenses),type:a.state.form.type};a.props.updateActivity(t)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.open,a=e.form,n=a.title,i=a.description,l=a.expenses,o=a.type;return r.a.createElement("div",{style:{textAlign:"start"}},r.a.createElement(mt.a,{onClick:this.handleToggle,style:{color:"white"}},this.state.form.title),r.a.createElement(lt.a,{open:t,onClose:this.handleToggle,"aria-labelledby":"form-dialog-title"},r.a.createElement(ct.a,{id:"form-dialog-title"},"Update Activity"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(ot.a,null,r.a.createElement(T.a,{label:"Title",value:n,onChange:this.handleChange("title"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(T.a,{multiline:!0,rows:"2",label:"Description",value:i,onChange:this.handleChange("description"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(ut.a,{htmlFor:"type"},"Activity type"),r.a.createElement(st.a,{value:o,onChange:this.handleChange("type"),inputProps:{name:"type",id:"type"}},r.a.createElement(Q.a,{value:"transportation"},"Transportation"),r.a.createElement(Q.a,{value:"flight"},"Flight"),r.a.createElement(Q.a,{value:"accommodation"},"Accommodation"),r.a.createElement(Q.a,{value:"food"},"Food & Drinks"),r.a.createElement(Q.a,{value:"sightseeing"},"Sightseeing"),r.a.createElement(Q.a,{value:"other"},"Other")),r.a.createElement("br",null),r.a.createElement(T.a,{label:"Expenses",value:l,onChange:this.handleChange("expenses"),margin:"normal"}),r.a.createElement("br",null)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"}},r.a.createElement(h.a,{onClick:this.handleToggle,type:"submit",color:"primary"},"Update"),r.a.createElement(h.a,{onClick:this.handleDelete,type:"submit",color:"primary"},"Delete")))))}}]),t}(n.Component),dt=(a(359),a(224)),ht=a.n(dt),ft=a(223),gt=a.n(ft),Et=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t="grey",a=r.a.createElement(gt.a,{style:{color:"white",marginRight:"5px"}});return"transportation"===this.props.activity.type&&(t="#4DA651",a=r.a.createElement(M.a,{style:{color:"white",marginRight:"5px"}})),"flight"===this.props.activity.type&&(t="#4DA651",a=r.a.createElement(ht.a,{style:{color:"white",marginRight:"5px"}})),"food"===this.props.activity.type&&(t="#E53C38",a=r.a.createElement(Ne.a,{style:{color:"white",marginRight:"5px"}})),"sightseeing"===this.props.activity.type&&(t="#9C26B0",a=r.a.createElement(be.a,{style:{color:"white",marginRight:"5px"}})),"accommodation"===this.props.activity.type&&(t="#FC9712",a=r.a.createElement(ve.a,{style:{color:"white",marginRight:"5px"}})),r.a.createElement("div",{onDragStart:function(t){return e.props.onDragStart(t,{from:e.props.from,id:e.props.id},e.props.activity)},draggable:!0,className:"draggable",style:{backgroundColor:t}},r.a.createElement("div",{onClick:this.handleClick,className:"card-details"},a,r.a.createElement(pt,{activity:this.props.activity,updateActivity:this.props.updateActivity,deleteActivity:this.props.deleteActivity},this.props.activity.title)))}}]),t}(n.Component),vt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e,t=this;return e="6"===this.props.day.title.format("d").toString()||"0"===this.props.day.title.format("d").toString()?"weekend-box":"box",r.a.createElement("div",{className:e,onDragOver:function(e){return t.props.onDragOver(e)},onDrop:function(e){return t.props.onDrop(e,t.props.day)}},r.a.createElement("h6",{style:{marginTop:"10px"}},this.props.day.title.format("dddd MMMM Do").toString()),r.a.createElement("div",{className:"inside-box"},r.a.createElement("div",null,this.props.day.activities.map(function(e){return r.a.createElement(Et,{key:e._id,activity:e,id:t.props.day.id,onDragStart:t.props.onDragStart,from:"day",updateActivity:t.props.updateActivity,deleteActivity:t.props.deleteActivity})})),r.a.createElement(E.a,{style:{textAlign:"center"},variant:"button"},"Expenses ",r.a.createElement("br",null),this.props.day.expenses||0)))}}]),t}(n.Component),yt=a(437),bt=a(360),wt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,form:{type:"",title:"",description:"",expenses:0}},a.handleToggle=function(){a.setState({open:!a.state.open})},a.handleChange=function(e){return function(t){var n=t.target.value;a.setState({form:Object(W.a)({},a.state.form,Object(D.a)({},e,n))})}},a.handleSubmit=function(e){e.preventDefault();var t=a.state.form.title,n=a.state.form.description,r=Number(a.state.form.expenses),i=a.state.form.type,l=new Date,o={_id:bt(),title:t,date:l,description:n,expenses:r,type:i};a.props.refreshContainer(o)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.open,a=e.form,i=a.title,l=a.description,o=a.expenses,c=a.type;return r.a.createElement(n.Fragment,null,r.a.createElement(h.a,{color:"primary",onClick:this.handleToggle},r.a.createElement(Le.a,null)),r.a.createElement(lt.a,{open:t,onClose:this.handleToggle,"aria-labelledby":"form-dialog-title"},r.a.createElement(ct.a,{id:"form-dialog-title"},"Create Activity"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(ot.a,null,r.a.createElement(T.a,{label:"Title",value:i,onChange:this.handleChange("title"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(T.a,{multiline:!0,rows:"2",label:"Description",value:l,onChange:this.handleChange("description"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(ut.a,{htmlFor:"type"},"Activity type"),r.a.createElement(st.a,{value:c,onChange:this.handleChange("type"),inputProps:{name:"type",id:"type"}},r.a.createElement(Q.a,{value:"transportation"},"Transportation"),r.a.createElement(Q.a,{value:"flight"},"Flight"),r.a.createElement(Q.a,{value:"accommodation"},"Accommodation"),r.a.createElement(Q.a,{value:"food"},"Food & Drinks"),r.a.createElement(Q.a,{value:"sightseeing"},"Sightseeing"),r.a.createElement(Q.a,{value:"other"},"Other")),r.a.createElement("br",null),r.a.createElement(T.a,{label:"Expenses",rows:"2",value:o,onChange:this.handleChange("expenses"),margin:"normal"})),r.a.createElement(yt.a,null,r.a.createElement(h.a,{onClick:this.handleToggle,type:"submit",color:"primary"},"Create")))))}}]),t}(n.Component),kt=a(140),xt=a(377),Ct=a(225),Ot=a.n(Ct),St=Object(z.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center",width:"inherit"},input:{marginLeft:8,flex:1}});function jt(e){var t=St();return r.a.createElement(kt.a,{className:t.root},r.a.createElement(Ot.a,null),r.a.createElement(xt.a,{className:t.input,placeholder:"Search",onChange:function(t){return function(e,t){var a=e.target.value;console.log(a),t.searchActivity(a)}(t,e)},type:"search",name:"search"}))}var Dt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("div",{className:"user-container"},r.a.createElement("div",{onDragOver:function(t){return e.props.onDragOver(t)},onDrop:function(t){e.props.onDrop(t,"container")}},r.a.createElement(jt,{searchActivity:this.props.searchActivity}),this.props.containerContent,r.a.createElement(wt,{refreshContainer:this.props.refreshContainer})),r.a.createElement(E.a,{style:{textAlign:"center"},variant:"button"},"Total Expenses ",r.a.createElement("br",null),this.props.totalExpenses)))}}]),t}(n.Component),It=null,At=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={totalExpenses:0,startDate:it()(localStorage.getItem("startDate"),It)||a.props.location.data.startDate,endDate:it()(localStorage.getItem("endDate"),It)||a.props.location.data.endDate,focusedInput:null,container:{id:1,activities:[]},days:[]},a.deleteActivity=function(e){y.a.delete("/api/draftActivities/".concat(e)).then(Object(nt.a)(at.a.mark(function t(){var n,r,i,l,o;return at.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=JSON.parse(JSON.stringify(a.state.container)),!((r=n.activities.findIndex(function(t){return t._id===e}))>=0)){t.next=7;break}n.activities.splice(r,1),a.setState({container:n}),t.next=18;break;case 7:i=a.state.days.slice(),l=0;case 9:if(!(l<i.length)){t.next=18;break}if(!((o=i[l].activities.findIndex(function(t){return t._id===e}))>=0)){t.next=15;break}return i[l].activities.splice(o,1),a.setState({days:i}),t.abrupt("break",18);case 15:l++,t.next=9;break;case 18:case"end":return t.stop()}},t)}))).catch(function(e){console.log(e)})},a.componentDidMount=Object(nt.a)(at.a.mark(function e(){var t,n,r;return at.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.fillDates(it()(localStorage.getItem("startDate"),It)||a.state.startDate,it()(localStorage.getItem("endDate"),It)||a.state.endDate),e.next=3,y.a.get("/api/trips/".concat(localStorage.getItem("tripId"),"/draftActivities"));case 3:n=e.sent,r=JSON.parse(JSON.stringify(a.state.container)),n.data.forEach(function(e){var a=t.find(function(t){return t.title.isSame(e.date,"day")});a?(a.activities.push(e),a.expenses+=e.expenses):r.activities.push(e)}),a.setState({container:r,days:t}),a.updateTotalExpenses();case 8:case"end":return e.stop()}},e)})),a.onDragStart=function(e,t,a){var n=JSON.stringify(t);e.dataTransfer.setData("origin",n);var r=JSON.stringify(a);e.dataTransfer.setData("activity",r)},a.onDragOver=function(e){e.preventDefault()},a.onDrop=function(e,t){var n=JSON.parse(e.dataTransfer.getData("origin")),r=JSON.parse(e.dataTransfer.getData("activity"));if(n.from!==t)if("container"===n.from){var i=JSON.parse(JSON.stringify(a.state.container)),l=i.activities.findIndex(function(e){return e._id===r._id}),o=i.activities[l];i.activities.splice(l,1);var c=a.state.days.slice(),s=c.find(function(e){return e.id===t.id});s.activities.push(o),a.addActivityToDay(s.title.toDate(),o._id),s.expenses=s.activities.reduce(function(e,t){return e+t.expenses},0),a.setState({container:i,days:c}),a.updateTotalExpenses()}else if("day"===n.from){var u=a.state.days.slice(),m=u.find(function(e){return e.id===n.id}),p=m.activities.findIndex(function(e){return e._id===r._id}),d=m.activities[p];if(m.activities.splice(p,1),m.expenses=m.activities.reduce(function(e,t){return e+t.expenses},0),"container"===t){var h=Object(W.a)({},a.state.container,{activities:Object(et.a)(a.state.container.activities)});h.activities.push(d),a.addActivityToDay(new Date,d._id),a.setState({container:h,days:u}),a.updateTotalExpenses()}else{var f=u.find(function(e){return e.id===t.id});f.activities.push(d),a.addActivityToDay(f.title.toDate(),d._id),f.expenses=f.activities.reduce(function(e,t){return e+t.expenses},0),a.setState({days:u}),a.updateTotalExpenses()}}},a.fillDates=function(e,t){var n=[];if(e&&t)for(var r=it.a.duration(t.diff(e)).asDays()+1,i=0;i<r;i++)n.push({id:i,title:e.clone().add(i,"days"),activities:[],expenses:0});return a.setState({startDate:e,endDate:t,days:n}),n},a.populateContainer=function(){return a.state.container.activities.map(function(e){return r.a.createElement(Et,{key:e._id,activity:e,id:a.state.container.id,onDragStart:a.onDragStart,from:"container",updateActivity:function(e){return a.updateActivity(e)},deleteActivity:function(e){return a.deleteActivity(e)}})})},a.refreshContainer=function(e){var t=e.title,n=e.date,r=e.description,i=e.expenses,l=e.type,o=a.createDraftActivity(e);Promise.all([o]).then(function(e){var o=JSON.parse(JSON.stringify(a.state.container));o.activities.push({_id:e[0]._id,title:t,date:n,description:r,type:l,expenses:i}),a.setState({container:o})})},a.searchActivity=function(){var e=Object(nt.a)(at.a.mark(function e(t){var n,r,i;return at.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getDraftActivities();case 2:n=e.sent,r=Object(W.a)({},a.state.container,{activities:n}),t&&n.length>0?(i=r.activities.filter(function(e){return e.title.toLowerCase().match(t.toLowerCase())})).length>0&&(r.activities=i,a.setState({container:r})):a.setState({container:r});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.updateTotalExpenses=function(){var e=a.state.days.slice(),t=0;e.forEach(function(e){e.activities.length>0&&e.activities.forEach(function(e){e.expenses&&(t+=e.expenses)})}),a.setState({totalExpenses:t})},a.updateActivity=function(e){var t=e._id,n=e.title,r=e.date,i=e.description,l=e.expenses,o=e.type,c={_id:t,title:n,date:r,description:i,expenses:l,type:o},s=!1;if(a.state.days.length>0){for(var u,m,p=a.state.days.slice(),d=0;d<p.length;d++){var h=p[d].activities.findIndex(function(e){return e._id===t});if(h>=0){m=d,u=h;break}}if(u>=0){var f=p[m];f.activities[u]=c,f.expenses=f.activities.reduce(function(e,t){return e+t.expenses},0),a.setState({days:p}),a.updateActivityInDb(c),s=!0,a.updateTotalExpenses()}}if(!1===s){var g=JSON.parse(JSON.stringify(a.state.container)),E=g.activities.findIndex(function(e){return e._id===t});E>=0&&(g.activities[E]=c,a.setState({container:g}),a.updateActivityInDb(c),s=!0)}!1===s&&console.log("The activity was not updated")},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"getDraftActivities",value:function(){var e=Object(nt.a)(at.a.mark(function e(){var t;return at.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/trips/".concat(localStorage.getItem("tripId"),"/draftActivities"));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"createDraftActivity",value:function(){var e=Object(nt.a)(at.a.mark(function e(t){var a,n,r,i,l,o;return at.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.title,n=t.date,r=t.description,i=t.type,l=t.expenses,e.prev=1,e.next=4,y.a.post("/api/draftActivities",{title:a,description:r,type:i,expenses:l,date:n,tripId:"".concat(localStorage.getItem("tripId"))});case 4:return o=e.sent,e.abrupt("return",o.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteDraftActivity",value:function(){var e=Object(nt.a)(at.a.mark(function e(t){var a;return at.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.delete("/api/draftActivities/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"addActivityToDay",value:function(){var e=Object(nt.a)(at.a.mark(function e(t,a){var n;return at.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.patch("/api/draftActivities/".concat(a),{date:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateActivityInDb",value:function(){var e=Object(nt.a)(at.a.mark(function e(t){var a;return at.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.patch("/api/draftActivities/".concat(t._id),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"planner"},r.a.createElement(Dt,{onDragOver:function(t){return e.onDragOver(t)},onDrop:function(t){return e.onDrop(t,"container")},containerContent:this.populateContainer(),refreshContainer:function(t){return e.refreshContainer(t)},totalExpenses:this.state.totalExpenses,searchActivity:this.searchActivity}),r.a.createElement("div",{className:"calendar"},r.a.createElement("div",{className:"scroll-container"},r.a.createElement("div",{className:"box-container"},this.state.startDate&&this.state.endDate&&this.state.days.map(function(t){return r.a.createElement(vt,{key:t.id,day:t,onDragStart:e.onDragStart,onDragOver:e.onDragOver,onDrop:e.onDrop,updateActivity:function(t){return e.updateActivity(t)},deleteActivity:function(t){return e.deleteActivity(t)}})})))))}}]),t}(n.Component),Nt=a(438),Tt=a(440),Bt=a(439),Lt=a(444),Mt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={tableRows1:[],tableRows2:[],tableRows3:[],tableRows4:[],tableRows5:[]},a.handleClick=function(e){if(console.log("click!!!!",e),"flight"===e){var t=a.state.tableRows1.slice();t.push({column1:"",column2:""}),a.setState({tableRows1:t})}if("bus"===e){var n=a.state.tableRows2.slice();n.push({column1:"",column2:""}),a.setState({tableRows2:n})}if("train"===e){var r=a.state.tableRows3.slice();r.push({column1:"",column2:""}),a.setState({tableRows3:r})}if("ferry"===e){var i=a.state.tableRows4.slice();i.push({column1:"",column2:""}),a.setState({tableRows4:i})}if("car"===e){var l=a.state.tableRows5.slice();l.push({column1:"",column2:""}),a.setState({tableRows5:l})}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.tableRows1.map(function(e,t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(Ve.a,{colSpan:2},r.a.createElement(T.a,{fullWidth:!0},e.colum1)))}),n=this.state.tableRows2.map(function(e,t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(Ve.a,{colSpan:2},r.a.createElement(T.a,{fullWidth:!0},e.colum1)))}),i=this.state.tableRows3.map(function(e,t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(Ve.a,{colSpan:2},r.a.createElement(T.a,{fullWidth:!0},e.colum1)))}),l=this.state.tableRows4.map(function(e,t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(Ve.a,{colSpan:2},r.a.createElement(T.a,{fullWidth:!0},e.colum1)))}),o=this.state.tableRows5.map(function(e,t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(Ve.a,{colSpan:2},r.a.createElement(T.a,{fullWidth:!0},e.colum1)))});return r.a.createElement("div",{style:{marginTop:"2%"}},r.a.createElement(Lt.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"},r.a.createElement("div",null,r.a.createElement(Nt.a,{style:{width:"50vh",marginBottom:"20px"}},r.a.createElement(Bt.a,{style:{height:"20vh"},image:a(363),title:"Transportation"}),r.a.createElement(Tt.a,null,r.a.createElement(Me.a,null,r.a.createElement(_e.a,null),r.a.createElement(Re.a,null,r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{align:"left"},r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{marginTop:"5%"}},"Flight")),r.a.createElement(Ve.a,{align:"right"},r.a.createElement(Te.a,{size:"small",color:"primary","aria-label":"add",onClick:function(){return e.handleClick("flight")}},r.a.createElement(Le.a,null)))),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{colSpan:2},r.a.createElement(T.a,{fullWidth:!0}))),t))))),r.a.createElement("div",null,r.a.createElement(Nt.a,{style:{width:"50vh",marginBottom:"20px"}},r.a.createElement(Bt.a,{style:{height:"20vh"},image:a(364)}),r.a.createElement(Tt.a,null,r.a.createElement(Me.a,null,r.a.createElement(_e.a,null),r.a.createElement(Re.a,null,r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{align:"left"},r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{marginTop:"5%"}},"Bus")),r.a.createElement(Ve.a,{align:"right"},r.a.createElement(Te.a,{size:"small",color:"primary","aria-label":"add",onClick:function(){return e.handleClick("bus")}},r.a.createElement(Le.a,null)))),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{colSpan:2},r.a.createElement(T.a,{fullWidth:!0}))),n))))),r.a.createElement("div",null,r.a.createElement(Nt.a,{style:{width:"50vh",marginBottom:"20px"}},r.a.createElement(Bt.a,{style:{height:"20vh"},image:a(365)}),r.a.createElement(Tt.a,null,r.a.createElement(Me.a,null,r.a.createElement(_e.a,null),r.a.createElement(Re.a,null,r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{align:"left"},r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{marginTop:"5%"}},"Train")),r.a.createElement(Ve.a,{align:"right"},r.a.createElement(Te.a,{size:"small",color:"primary","aria-label":"add",onClick:function(){return e.handleClick("train")}},r.a.createElement(Le.a,null)))),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{colSpan:2},r.a.createElement(T.a,{fullWidth:!0}))),i))))),r.a.createElement("div",null,r.a.createElement(Nt.a,{style:{width:"50vh",marginBottom:"20px"}},r.a.createElement(Bt.a,{style:{height:"20vh"},image:a(366)}),r.a.createElement(Tt.a,null,r.a.createElement(Me.a,null,r.a.createElement(_e.a,null),r.a.createElement(Re.a,null,r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{align:"left"},r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{marginTop:"5%"}},"Ferry")),r.a.createElement(Ve.a,{align:"right"},r.a.createElement(Te.a,{size:"small",color:"primary","aria-label":"add",onClick:function(){return e.handleClick("ferry")}},r.a.createElement(Le.a,null)))),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{colSpan:2},r.a.createElement(T.a,{fullWidth:!0}))),l))))),r.a.createElement("div",null,r.a.createElement(Nt.a,{style:{width:"50vh",marginBottom:"20px"}},r.a.createElement(Bt.a,{style:{height:"20vh"},image:a(367)}),r.a.createElement(Tt.a,null,r.a.createElement(Me.a,null,r.a.createElement(_e.a,null),r.a.createElement(Re.a,null,r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{align:"left"},r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2",style:{marginTop:"5%"}},"Car")),r.a.createElement(Ve.a,{align:"right"},r.a.createElement(Te.a,{size:"small",color:"primary","aria-label":"add",onClick:function(){return e.handleClick("car")}},r.a.createElement(Le.a,null)))),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{colSpan:2},r.a.createElement(T.a,{fullWidth:!0}))),o)))))))}}]),t}(n.Component),Rt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).loadMarkers=function(e,t){try{e.forEach(function(e){e.type=t;var n=new a.google.maps.Marker({position:{lat:e.location.lat,lng:e.location.lng},map:a.map,venue:e,id:e.id,name:e.name,type:t,animation:a.google.maps.Animation.DROP});n.addListener("click",function(){null!==n.getAnimation()?n.setAnimation(null):n.setAnimation(a.google.maps.Animation.BOUNCE),setTimeout(function(){n.setAnimation(null)},1500)}),a.google.maps.event.addListener(n,"click",function(){a.infowindow.setContent(n.name),a.map.setCenter(n.position),a.infowindow.open(a.map,n),a.map.panBy(0,-125)}),a.markers.push(n)}),a.setState({filteredVenues:a.accommodations})}catch(n){console.log(n)}},a.listItemClick=function(e){var t=a.markers.filter(function(t){return t.id===e.id})[0];a.infowindow.setContent(t.name),a.map.setCenter(t.position),a.infowindow.open(a.map,t),a.map.panBy(0,-125),null!==t.getAnimation()?t.setAnimation(null):t.setAnimation(a.google.maps.Animation.BOUNCE),setTimeout(function(){t.setAnimation(null)},1500)},a.selectVenue=function(e){y.a.post("/api/draftActivities",{title:e.name,description:"",type:e.type,expenses:0,date:new Date,tripId:"".concat(localStorage.getItem("tripId"))}).then(function(e){return e.data})},a.filter=function(e,t,n){var r=t.filter(function(t){return t.name.toLowerCase().includes(e.toLowerCase())});return a.markers.forEach(function(t){t.type===n&&!0===t.name.toLowerCase().includes(e.toLowerCase())?t.setVisible(!0):t.setVisible(!1)}),a.setState({filteredVenues:r,query:e}),r},a.filterAccommodations=function(e){a.filter(e,a.accommodations,Ze.ACCOMMODATION)},a.handleSubmit=function(e){e.preventDefault(),a.fillingMap()},a.handleChange=function(e){a.setState(Object(D.a)({},e.target.name,e.target.value))},a.state={query:"",location:"Berlin"},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("destination");this.setState({location:t},function(){e.fillingMap()})}},{key:"fillingMap",value:function(){var e=this;try{var t=Ge(),a=qe(this.state.location,Ye);Promise.all([t,a]).then(function(t){var a=t[0];e.accommodations=t[1].response.venues,e.google=a,e.markers=[],e.infowindow=new a.maps.InfoWindow,e.map=new a.maps.Map(document.getElementById("map"),{zoom:12,scrollwheel:!0,center:{lat:e.accommodations[0].location.lat,lng:e.accommodations[0].location.lng}}),e.loadMarkers(e.accommodations,Ze.ACCOMMODATION)})}catch(n){console.log(n)}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",height:"100vh"}},r.a.createElement("div",{id:"map"}),r.a.createElement("div",null,r.a.createElement(E.a,{variant:"h4",style:{textAlign:"center",margin:"20px"}},"Accommodation in ",this.state.location),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(E.a,{variant:"h6",style:{textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"}},"Change location to"," ",r.a.createElement("input",{type:"text",name:"location",onChange:this.handleChange,value:this.state.location,style:{margin:"10px"}}),r.a.createElement(h.a,{variant:"contained",style:{background:"#1bacbf",textDecoration:"none",color:"white"},type:"submit"},"Search"))),r.a.createElement(We,{filterVenues:this.filterAccommodations,filteredVenues:this.state.filteredVenues,listItemClick:this.listItemClick,selectVenue:this.selectVenue}))))}}]),t}(n.Component),Ut=a(447),_t=function(e){return r.a.createElement(Me.a,{size:"small"},r.a.createElement(_e.a,null,r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{align:"center",style:{background:"#4DA651",color:"white",width:"13vw"}},r.a.createElement("i",{className:"fas fa-tshirt"}),r.a.createElement("br",null),"CLOTHES/ACCESSORIES ")),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{align:"center"},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement(Ve.a,{align:"center"},"Item"))),r.a.createElement(Re.a,null,["Jackets/Coats","T-shirts","Sleepwear","Undershirt","Dresses","Sweaters","Swimsuits","Shorts","Pants","Jeans","Skirts","Socks","Underwear","Stocking","Scarves","Gloves","Hats","Belts","Ties","Jewelry","Sandals","Hiking shoes","Walking shoes","Umbrella"].map(function(t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(Ve.a,{align:"center"},r.a.createElement(Ut.a,{onChange:function(t){return e.handleChange(t)},checked:e[t],value:t})),r.a.createElement(Ve.a,{align:"center",style:{width:"13vw"}},t))})))},Vt=function(e){return r.a.createElement(Me.a,{size:"small"},r.a.createElement(_e.a,null,r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{align:"center",style:{background:"#FC9712",color:"white",width:"13vw"}},r.a.createElement("i",{className:"fas fa-spray-can"}),r.a.createElement("br",null)," TOILETRIES")),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{align:"center"},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement(Ve.a,{align:"center"},"Item"))),r.a.createElement(Re.a,null,["Toothbrush","Face cleanser","Hairstyling tools","Brush","Shampoo/conditioner","Deodorant","Soap","Dental floss","Toothpaste","Birth control","Makeup remover","Makeup","Shaving supplies","Contact lenses","Moisturizer","Sunscreen","Face lotion/gel","Pain relievers","Medications","Insect repellent","First-aid ointment","Bandages","Hand sanitizer","Vitamins"].map(function(t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(Ve.a,{align:"center"},r.a.createElement(Ut.a,{onChange:function(t){return e.handleChange(t)},value:t,checked:e[t]})),r.a.createElement(Ve.a,{align:"center",style:{width:"13vw"}},t))})))},Wt=function(e){return r.a.createElement(Me.a,{size:"small"},r.a.createElement(_e.a,null,r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{align:"center",style:{background:"#E53C38",color:"white",width:"13vw"}},r.a.createElement("i",{className:"fas fa-shopping-bag"}),r.a.createElement("br",null),"CARRY-ON")),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,{align:"center"},r.a.createElement("i",{className:"fas fa-check"})),r.a.createElement(Ve.a,{align:"center"},"Item"))),r.a.createElement(Re.a,null,["Cell phone","Laptop","Electronic chargers","Plug adaptor","List of medications","Copies of passport/creditcard/etc.","Travel pillow","Cash","Credit/ATM cards","Passport/visa/ID","Camera","Ear plugs/eye mask","Video/music player","Earbuds/headphones","Books/E-books","Insurance cards","Guidebook","House/car keys"].map(function(t){return r.a.createElement(Ue.a,{key:t},r.a.createElement(Ve.a,{align:"center"},r.a.createElement(Ut.a,{onChange:function(t){return e.handleChange(t)},value:t,checked:e[t]})),r.a.createElement(Ve.a,{align:"center",style:{width:"13vw"}},t))})))},Pt=a(139),zt=a.n(Pt),Ft=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={"Jackets/Coats":!1,"T-shirts":!1,Sleepwear:!1,Undershirt:!1,Dresses:!1,Sweaters:!1,Swimsuits:!1,Shorts:!1,Pants:!1,Jeans:!1,Skirts:!1,Socks:!1,Underwear:!1,Stocking:!1,Scarves:!1,Gloves:!1,Hats:!1,Belts:!1,Ties:!1,Jewelry:!1,Sandals:!1,"Hiking shoes":!1,"Walking shoes":!1,Umbrella:!1,Toothbrush:!1,"Face cleanser":!1,"Hairstyling tools":!1,Brush:!1,"Shampoo/conditioner":!1,Deodorant:!1,Soap:!1,"Dental floss":!1,Toothpaste:!1,"Birth control":!1,"Makeup remover":!1,Makeup:!1,"Shaving supplies":!1,"Contact lenses":!1,Moisturizer:!1,Sunscreen:!1,"Face lotion/gel":!1,"Pain relievers":!1,Medications:!1,"Insect repellent":!1,"First-aid ointment":!1,Bandages:!1,"Hand sanitizer":!1,Vitamins:!1,"Cell phone":!1,Laptop:!1,"Electronic chargers":!1,"Plug adaptor":!1,"List of medications":!1,"Copies of passport/creditcard/etc.":!1,"Travel pillow":!1,Cash:!1,"Credit/ATM cards":!1,"Passport/visa/ID":!1,Camera:!1,"Ear plugs/eye mask":!1,"Video/music player":!1,"Earbuds/headphones":!1,"Books/E-books":!1,"Insurance cards":!1,Guidebook:!1,"House/car keys":!1,message:"",packingListId:void 0},a.handleChange=function(e){a.setState(Object(D.a)({},e.target.value,e.target.checked))},a.handleSave=function(){var e=[];for(var t in a.state)!0===a.state[t]&&e.push(t);y.a.post("/api/packingList/".concat(localStorage.getItem("tripId")),{items:e}).then(function(e){a.setState({message:e.data.message}),a.setState({packingListId:e.data.packingListId})})},a.handleUndo=function(){y.a.put("/api/packingList/".concat(a.state.packingListId),{items:[]}).then(function(e){console.log(e.data),a.getData(!0)})},a.getData=function(e){y.a.get("/api/packingList/".concat(localStorage.getItem("tripId"))).then(function(t){if(a.setState({packingListId:t.data._id}),e)for(var n in a.state)"message"!==n&&"packingListId"!==n&&a.state[n]&&a.setState(Object(D.a)({},n,!1));else t.data.items.forEach(function(e){a.setState(Object(D.a)({},e,!0))})}).catch(function(e){console.log(e)})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getData(!1)}},{key:"render",value:function(){return r.a.createElement(R.a,null,r.a.createElement("div",null,r.a.createElement(E.a,{component:"h1",variant:"h5",style:{margin:"1%"}},"Packing List")),r.a.createElement("form",{onSubmit:this.handleSubmit},this.state.packingListId?r.a.createElement(h.a,{variant:"contained",size:"small",style:{marginLeft:"1%",marginBottom:"1%"},onClick:this.handleSave},r.a.createElement(zt.a,null),"Update"):r.a.createElement(h.a,{variant:"contained",size:"small",style:{marginLeft:"1%",marginBottom:"1%"},onClick:this.handleSave},r.a.createElement(zt.a,null),"Save"),r.a.createElement(h.a,{variant:"contained",size:"small",style:{marginLeft:"1%",marginBottom:"1%"},onClick:this.handleUndo},r.a.createElement("i",{className:"fas fa-undo"}),"Undo"),r.a.createElement(B.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-start"},r.a.createElement(kt.a,null,r.a.createElement(_t,Object.assign({handleChange:this.handleChange},this.state))),r.a.createElement(kt.a,null,r.a.createElement(Vt,Object.assign({handleChange:this.handleChange},this.state))),r.a.createElement(kt.a,null,r.a.createElement(Wt,Object.assign({handleChange:this.handleChange},this.state))))))}}]),t}(n.Component),Jt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={activitiesOrderedBy:null},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(nt.a)(at.a.mark(function e(){var t,a;return at.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/trips/".concat(localStorage.getItem("tripId")));case 3:return t=e.sent,a=He(t.data.draftActivity,"type"),this.setState({activitiesOrderedBy:a}),e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"getExpensesPerActivity",value:function(e,t,a){return e[t].forEach(function(e){a+=e.expenses}),a}},{key:"render",value:function(){var e=0,t=0,a=0,n=0,i=0,l=0,o=0,c=JSON.parse(JSON.stringify(this.state.activitiesOrderedBy));for(var s in c)switch(s){case"transportation":e+=t=this.getExpensesPerActivity(c,s,t);break;case"flight":e+=a=this.getExpensesPerActivity(c,s,a);break;case"accommodation":e+=n=this.getExpensesPerActivity(c,s,n);break;case"food":e+=i=this.getExpensesPerActivity(c,s,i);break;case"sightseeing":e+=l=this.getExpensesPerActivity(c,s,l);break;case"other":e+=o=this.getExpensesPerActivity(c,s,o)}return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"50px"}},r.a.createElement(kt.a,{style:{width:"80%",marginTop:"3"}},r.a.createElement(Me.a,{style:{minWidth:"700"}},r.a.createElement(_e.a,null,r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,null,"DESCRIPTION"),r.a.createElement(Ve.a,null,"PRICE"))),r.a.createElement(Re.a,null,r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,null,"Transportation"),r.a.createElement(Ve.a,null,t)),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,null,"Flights"),r.a.createElement(Ve.a,null,a)),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,null,"Accommodation"),r.a.createElement(Ve.a,null,n)),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,null,"Food & Drinks"),r.a.createElement(Ve.a,null,i)),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,null,"Sightseeing / Excursions"),r.a.createElement(Ve.a,null,l)),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,null,"Other"),r.a.createElement(Ve.a,null,o)),r.a.createElement(Ue.a,null,r.a.createElement(Ve.a,null,r.a.createElement("strong",null,"TOTAL")),r.a.createElement(Ve.a,null,r.a.createElement("strong",null,e)))))))}}]),t}(n.Component),Gt=Object(z.a)(function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(D.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(W.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,padding:0,height:"100vh",backgroundColor:"rgb(241, 241, 241)"}}});function qt(e){var t,a,n=Gt(),i=Object(F.a)(),l=r.a.useState(!1),c=Object(V.a)(l,2),s=c[0],u=c[1];return r.a.createElement("div",{className:n.root},r.a.createElement(N.a,null),r.a.createElement(f.a,{position:"fixed",style:{background:"#1bacbf"},className:Object(P.a)(n.appBar,Object(D.a)({},n.appBarShift,s))},r.a.createElement(g.a,null,r.a.createElement(q.a,{style:{color:"#494847"},"aria-label":"open drawer",onClick:function(){u(!0)},edge:"start",className:Object(P.a)(n.menuButton,Object(D.a)({},n.hide,s))},r.a.createElement(ue.a,null)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"90vw"}},r.a.createElement("img",{className:"logo",src:"/images/logo.png",alt:"logo"}),r.a.createElement(le,{setUser:e.setUser})))),r.a.createElement(J.a,{variant:"permanent",className:Object(P.a)(n.drawer,(t={},Object(D.a)(t,n.drawerOpen,s),Object(D.a)(t,n.drawerClose,!s),t)),classes:{paper:Object(P.a)((a={},Object(D.a)(a,n.drawerOpen,s),Object(D.a)(a,n.drawerClose,!s),a))},open:s},r.a.createElement("div",{style:{background:"#494847"},className:n.toolbar},r.a.createElement(q.a,{onClick:function(){u(!1)}},"rtl"===i.direction?r.a.createElement(he.a,null):r.a.createElement(pe.a,null))),r.a.createElement(G.a,{style:{background:"linear-gradient(rgba(0,0,0, 0.8), rgba(73,72,71, 0.8)), url('/images/citytrip.jpg')",backgroundSize:"cover",display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100vh"}},r.a.createElement("div",null,r.a.createElement(o.b,{style:{textDecoration:"none",color:"white"},to:"/planner"},r.a.createElement(Oe.a,{button:!0,key:"Planner"},r.a.createElement(Y.a,null,r.a.createElement(ge.a,{style:{color:"white"}})),r.a.createElement(Z.a,{primary:"Planner"}))),r.a.createElement(o.b,{style:{textDecoration:"none",color:"white"},to:"/thingstodo"},r.a.createElement(Oe.a,{button:!0,key:"Things to do"},r.a.createElement(Y.a,null,r.a.createElement(be.a,{style:{color:"white"}})),r.a.createElement(Z.a,{primary:"Things to do"}))),r.a.createElement(o.b,{style:{textDecoration:"none",color:"white"},to:"/transportation"},r.a.createElement(Oe.a,{button:!0,key:"Transportation"},r.a.createElement(Y.a,null,r.a.createElement(M.a,{style:{color:"white"}})),r.a.createElement(Z.a,{primary:"Transportation"}))),r.a.createElement(o.b,{style:{textDecoration:"none",color:"white"},to:"/accommodation"},r.a.createElement(Oe.a,{button:!0,key:"Accommodation"},r.a.createElement(Y.a,null,r.a.createElement(ve.a,{style:{color:"white"}})),r.a.createElement(Z.a,{primary:"Accommodation"})))),r.a.createElement("div",null,r.a.createElement(o.b,{style:{textDecoration:"none",color:"white"},to:"/packinglist"},r.a.createElement(Oe.a,{button:!0,key:"Packing List"},r.a.createElement(Y.a,null,r.a.createElement(ke.a,{style:{color:"white"}})),r.a.createElement(Z.a,{primary:"Packing List"}))),r.a.createElement(o.b,{style:{textDecoration:"none",color:"white"},to:"/budget"},r.a.createElement(Oe.a,{button:!0,key:"Budget"},r.a.createElement(Y.a,null,r.a.createElement(Ce.a,{style:{color:"white"}})),r.a.createElement(Z.a,{primary:"Budget"}))),r.a.createElement(o.b,{style:{textDecoration:"none",color:"white"},to:"/"},r.a.createElement(Oe.a,{button:!0,key:"Home"},r.a.createElement(Y.a,null,r.a.createElement(ce.a,{style:{color:"white"}})),r.a.createElement(Z.a,{primary:"Home"})))))),r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),r.a.createElement(d.b,{exact:!0,path:"/planner",component:At}),r.a.createElement(d.b,{exact:!0,path:"/thingstodo",component:$e}),r.a.createElement(d.b,{exact:!0,path:"/transportation",component:Mt}),r.a.createElement(d.b,{exact:!0,path:"/accommodation",component:Rt}),r.a.createElement(d.b,{exact:!0,path:"/packinglist",component:Ft}),r.a.createElement(d.b,{exact:!0,path:"/budget",component:Jt})))}a(368);var Ht=a(442),Xt=a(443),Qt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={tripArray:[]},a.handleClick=function(e){localStorage.setItem("tripId",e._id),localStorage.setItem("destination",e.destination),localStorage.setItem("startDate",e.startDate),localStorage.setItem("endDate",e.endDate),a.props.history.push("/planner")},a.handleDelete=function(){var e=Object(nt.a)(at.a.mark(function e(t){var n,r;return at.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=a.state.tripArray.slice(),!((r=n.findIndex(function(e){return e._id===t}))>=0)){e.next=8;break}return n.splice(r,1),a.setState({tripArray:n}),e.next=8,y.a.delete("/api/trips/".concat(t));case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(nt.a)(at.a.mark(function e(){var t;return at.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/trips/".concat(localStorage.getItem("userId"),"/all"));case 3:return t=e.sent,this.setState({tripArray:t.data}),e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.tripArray.slice().map(function(t){return r.a.createElement("div",{key:t._id},r.a.createElement(Nt.a,{className:"card",style:{width:"400px",minHeight:"150px"}},r.a.createElement(Ht.a,null,r.a.createElement(Tt.a,null,r.a.createElement("div",{className:"title"},r.a.createElement(E.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.title)),r.a.createElement(E.a,{variant:"body2",color:"textSecondary",component:"div"},r.a.createElement("div",{className:"description"},t.description)))),r.a.createElement(Xt.a,null,r.a.createElement("div",{className:"button"},r.a.createElement(h.a,{onClick:function(){return e.handleClick(t)},size:"small",color:"primary",style:{justifySelf:"flex-end"}},"Go to Board"),t._id===localStorage.getItem("tripId")?r.a.createElement(h.a,{size:"small",color:"primary",onClick:function(){return e.handleDelete(t._id)},disabled:!0},"Delete"):r.a.createElement(h.a,{size:"small",color:"primary",onClick:function(){return e.handleDelete(t._id)}},"Delete")))))});return r.a.createElement("div",null,r.a.createElement(f.a,{position:"static",style:{background:"#494847"}},r.a.createElement(g.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement(o.b,{to:"/"},r.a.createElement("img",{className:"logo",src:"/images/logo.png",alt:"example",style:{marginRight:"auto"}}))),r.a.createElement(h.a,null,r.a.createElement(o.b,{style:{textDecoration:"none",color:"white"},to:"/tripform"},"Create a New Board")))),r.a.createElement("div",{className:"board-intro",style:{display:"flex",justifyContent:"center",flexWrap:"wrap"}},t))}}]),t}(n.Component),Yt=a(117),Zt=a.n(Yt),Kt=a(118),$t=a(119),ea=a.n($t),ta={marginTop:"30%",display:"flex",flexDirection:"column",alignItems:"center"},aa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(D.a)({},n,r))},a.handleSubmit=function(e){var t=a.state,n=t.username,r=t.password;e.preventDefault(),b(n,r).then(function(e){e.data.message?a.setState({error:e.data.message}):(a.props.setUser(e.data),a.props.history.push("/"))}).catch(function(e){a.setState({err:e})})},a.responseFacebook=function(e){console.log(e);var t=e.userId;C(t).then(function(e){console.log("here",e.data),a.props.setUser(e.data),a.props.history.push("/")}).catch(function(e){a.setState({err:e})})},a.responseGoogle=function(e){console.log(e.googleId);var t=e.googleId;O(t).then(function(e){console.log("here",e.data),a.props.setUser(e.data),a.props.history.push("/")}).catch(function(e){a.setState({err:e})})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(R.a,{component:"main",maxWidth:"xs"},r.a.createElement(N.a,null),r.a.createElement("div",{style:ta},r.a.createElement(A.a,{style:{backgroundColor:"rgb(73,72,71)"}},r.a.createElement(ea.a,null)),r.a.createElement(E.a,{component:"h1",variant:"h5",style:{margin:"2%"}},"Log In"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(B.a,{container:!0,spacing:2},r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,type:"text",name:"username",id:"username",label:"username",autoComplete:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,type:"password",name:"password",id:"password",label:"password",autoComplete:"current-password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:{marginTop:"3%",backgroundColor:"rgb(27,172, 191)"}},"Log In")),r.a.createElement("p",null,this.state.error),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(Zt.a,{appId:"2511839425504211",fields:"name,email,picture",callback:this.responseFacebook,render:function(e){return r.a.createElement(h.a,{onClick:e.onClick,type:"submit",fullWidth:!0,variant:"outlined",color:"primary",style:{marginTop:"3%",marginRight:"2%"}},"Log in via ",r.a.createElement("br",null),r.a.createElement("i",{className:"fab fa-facebook"}))}}),r.a.createElement(Kt.GoogleLogin,{clientId:"617606078054-rc3kqkqtmfbumi8tuteufep6if17e8k2.apps.googleusercontent.com",render:function(e){return r.a.createElement(h.a,{onClick:e.onClick,disabled:e.disabled,type:"submit",fullWidth:!0,variant:"outlined",color:"secondary",style:{marginTop:"3%"}},"Log in via ",r.a.createElement("br",null),r.a.createElement("i",{className:"fab fa-google"}))},buttonText:"Login",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:"single_host_origin"})),r.a.createElement("br",null),r.a.createElement(B.a,{container:!0,justify:"flex-end"},r.a.createElement(B.a,{item:!0},"Not registered?",r.a.createElement(o.b,{to:"/signup"}," Create an account")))))}}]),t}(n.Component),na={marginTop:"30%",display:"flex",flexDirection:"column",alignItems:"center"},ra=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleSubmit=function(e){var t=a.state,n=t.username,r=t.password;e.preventDefault(),w(n,r).then(function(e){localStorage.setItem("username",n),e.data.errorMessage?a.setState({error:e.data.errorMessage}):(a.props.setUser(e.data),a.props.history.push("/"))}).catch(function(e){console.log(e),a.setState({err:e})})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(D.a)({},n,r))},a.responseFacebook=function(e){var t=e.userId;k(t).then(function(e){a.props.setUser(e.data),a.props.history.push("/")})},a.responseGoogle=function(e){var t=e.googleId;x(t).then(function(e){a.props.setUser(e.data),a.props.history.push("/")})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(R.a,{component:"main",maxWidth:"xs"},r.a.createElement(N.a,null),r.a.createElement("div",{style:na},r.a.createElement(A.a,{style:{backgroundColor:"rgb(73,72,71)"}},r.a.createElement(ea.a,null)),r.a.createElement(E.a,{component:"h1",variant:"h5",style:{margin:"2%"}},"Sign up"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(B.a,{container:!0,spacing:2},r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,type:"text",name:"username",id:"username",label:"username",autoComplete:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(B.a,{item:!0,xs:12},r.a.createElement(T.a,{variant:"outlined",required:!0,fullWidth:!0,type:"password",name:"password",id:"password",label:"password",autoComplete:"current-password",value:this.state.password,onChange:this.handleChange}))),r.a.createElement(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",style:{marginTop:"3%",backgroundColor:"rgb(27,172, 191)"}},"Sign Up")),r.a.createElement("p",null,this.state.error),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement(Zt.a,{appId:"2511839425504211",fields:"name,email,picture",callback:this.responseFacebook,render:function(e){return r.a.createElement(h.a,{onClick:e.onClick,type:"submit",fullWidth:!0,variant:"outlined",color:"primary",style:{marginTop:"3%",marginRight:"2%"}},"Sign up via ",r.a.createElement("br",null),r.a.createElement("i",{className:"fab fa-facebook"}))}}),r.a.createElement(Kt.GoogleLogin,{clientId:"617606078054-rc3kqkqtmfbumi8tuteufep6if17e8k2.apps.googleusercontent.com",render:function(e){return r.a.createElement(h.a,{onClick:e.onClick,disabled:e.disabled,type:"submit",fullWidth:!0,variant:"outlined",color:"secondary",style:{marginTop:"3%"}},"Sign up via ",r.a.createElement("br",null),r.a.createElement("i",{className:"fab fa-google"}))},buttonText:"Login",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:"single_host_origin"})),r.a.createElement("br",null),r.a.createElement(B.a,{container:!0,justify:"flex-end"},r.a.createElement(B.a,{item:!0},"Already have an account?",r.a.createElement(o.b,{to:"/login"}," Log in")))))}}]),t}(n.Component),ia=a(235),la=function(e){var t=e.component,a=e.user,n=e.path,i=e.redirectPath,l=void 0===i?"/":i,o=Object(ia.a)(e,["component","user","path","redirectPath"]);return r.a.createElement(d.b,{path:n,render:function(e){return a?r.a.createElement(t,Object.assign({},e,o,{user:a})):r.a.createElement(d.a,{to:l})}})},oa=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user},a.setUser=function(e){a.setState({user:e})},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(j,Object.assign({},t,{user:e.state.user,setUser:e.setUser}))}}),r.a.createElement(la,{exact:!0,path:"/tripform",redirectPath:"/signup",user:this.state.user,setUser:this.setUser,component:_}),r.a.createElement(d.b,{exact:!0,path:"/boards",component:Qt}),r.a.createElement(la,{exact:!0,path:"/login",user:!this.state.user,setUser:this.setUser,component:aa}),r.a.createElement(la,{exact:!0,path:"/signup",user:!this.state.user,setUser:this.setUser,component:ra}),r.a.createElement(la,{path:"/",redirectPath:"/signup",user:this.state.user,setUser:this.setUser,component:qt}),r.a.createElement(la,{exact:!0,path:"/tripform",redirectPath:"/signup",user:this.state.user,setUser:this.setUser,component:_})))}}]),t}(n.Component);a(369),a(370);y.a.get("/api/auth/loggedin").then(function(e){l.a.render(r.a.createElement(o.a,null,r.a.createElement(oa,{user:e.data})),document.getElementById("root"))}).catch(function(e){console.log(e)}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[253,1,2]]]);
//# sourceMappingURL=main.0888f549.chunk.js.map